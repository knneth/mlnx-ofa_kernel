From: Valentine Fatiev <valentinef@nvidia.com>
Subject: [PATCH] BACKPORT: drivers/net/ethernet/mellanox/mlx5/core/en_arfs.c

---
 drivers/net/ethernet/mellanox/mlx5/core/en_arfs.c | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

--- a/drivers/net/ethernet/mellanox/mlx5/core/en_arfs.c
+++ b/drivers/net/ethernet/mellanox/mlx5/core/en_arfs.c
@@ -30,11 +30,14 @@
  * SOFTWARE.
  */
 
+
 #include <linux/hash.h>
 #include <linux/mlx5/fs.h>
 #include <linux/ip.h>
 #include <linux/ipv6.h>
+#ifdef HAVE_RPS_H
 #include <net/rps.h>
+#endif
 #include "en.h"
 
 #define ARFS_HASH_SHIFT BITS_PER_BYTE
@@ -430,6 +433,7 @@ static void arfs_may_expire_flow(struct
 	int i;
 	int j;
 
+
 	spin_lock_bh(&arfs->arfs_lock);
 	mlx5e_for_each_arfs_rule(arfs_rule, htmp, arfs->arfs_tables, i, j) {
 		if (!work_pending(&arfs_rule->arfs_work) &&
@@ -462,6 +466,7 @@ static void arfs_del_rules(struct mlx5e_
 	int i;
 	int j;
 
+
 	clear_bit(MLX5E_ARFS_STATE_ENABLED, &arfs->state);
 
 	spin_lock_bh(&arfs->arfs_lock);
@@ -738,7 +743,7 @@ int mlx5e_rx_flow_steer(struct net_devic
 	struct flow_keys fk;
 
 	arfs =  mlx5e_fs_get_arfs(priv->fs);
-	if (!skb_flow_dissect_flow_keys(skb, &fk, 0))
+	if (!skb_flow_dissect_flow_keys(skb, &fk , 0))
 		return -EPROTONOSUPPORT;
 
 	if (fk.basic.n_proto != htons(ETH_P_IP) &&
@@ -779,4 +784,3 @@ int mlx5e_rx_flow_steer(struct net_devic
 	spin_unlock_bh(&arfs->arfs_lock);
 	return arfs_rule->filter_id;
 }
-
